var viewportHeight=$(window).height(),mobileNav=$(".mobile-nav-links"),mobileNavToggle=$("#mobile-nav-toggle"),mainContent=$(".main-content"),hero=$(".hero"),heroHeight=hero.height(),navMenu=$(".navigation"),revealer=$("#revealer"),logo=$(".logo"),panel=$(".panel"),workHeader=$(".work-header"),workHeaderHeight=workHeader.height(),workAnimation=$("#work-animation"),portrait=$("#portrait"),aboutHeader=$(".about-header"),footer=$("footer"),overlay=$(".overlay"),loadingImg=overlay.find("img"),copyrightDate=$("#date"),rand=1,iOS=navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?!0:!1,socialMedia={facebook:"http://facebook.com/brandanmajeske",twitter:"http://twitter.com/brandanmajeske",googleplus:"https://plus.google.com/104486624241215576395",github:"https://github.com/brandanmajeske",linkedin:"http://www.linkedin.com/pub/brandan-majeske/2b/142/873"},social=function(){var e="<ul>",t=document.querySelectorAll(".socialmediaicons");for(var n in arguments[0])e+='<li><a href="'+socialMedia[n]+' "target="_blank">'+'<img src="images/social/'+n+'.png" alt="icon for '+n+'">'+"</a></li>";e+="</ul>";for(var r=t.length-1;r>=0;r--)t[r].innerHTML=e}(socialMedia);(function(){overlay.css({height:viewportHeight});overlay.css({display:"block"})&&loadingImg.fadeIn(300).css({top:viewportHeight/2-loadingImg.height()/2,left:$(window).width()/2-loadingImg.width()/2});iOS?setTimeout(function(){overlay.fadeOut("slow")},1e3):$(window).bind("load",function(){setTimeout(function(){overlay.fadeOut("slow")},100)})})();var resizePanels=function(){var e=[],t=$(window).width();if(t<960&&t>640){panel.each(function(){var t=$(this);e.push(t.outerHeight())});var n=Math.max.apply(null,e);panel.css({"min-height":n})}(t<636||t>1080)&&panel.css({"min-height":"inherit"})};resizePanels();(function(){hero.css({height:viewportHeight});mainContent.height()<viewportHeight?mainContent.css({height:viewportHeight+navMenu.height(),top:viewportHeight-footer.height()}):mainContent.css({height:"inherit",top:viewportHeight-footer.height()});logo.css({height:viewportHeight/1.5,top:viewportHeight/8});$(window).resize(function(){viewportHeight=$(window).height();hero.css({height:viewportHeight});logo.css({height:viewportHeight/1.5,top:viewportHeight/8});resizePanels();workHeaderHeight<workAnimation.height()?workHeader.css({height:workAnimation.height()}):workHeader.css({height:"inherit"});mainContent.height()<viewportHeight?mainContent.css({height:viewportHeight+50,top:viewportHeight-footer.height()}):mainContent.css({height:"inherit",top:viewportHeight-footer.height()})})})();(function(){mobileNavToggle.click(function(e){e.preventDefault();if(mobileNavToggle.hasClass("mobile-active")){mobileNavToggle.removeClass("mobile-active");mobileNav.slideUp("easeInOutQuart")}else{mobileNavToggle.addClass("mobile-active");mobileNav.slideDown("easeInOutQuart")}})})();(function(){$(window).scroll(function(){if($(this).scrollTop()>viewportHeight/5){logo.stop().animate({opacity:0},300);workAnimation.stop().animate({opacity:0},200)}else{logo.stop().animate({opacity:1},300);workAnimation.stop().animate({opacity:1},200)}if($(this).scrollTop()>aboutHeader.height()){if(rand==1&&$(this).scrollTop()>300){rand=2;portrait.attr("src","images/portrait"+rand+".jpg")}portrait.stop().animate({opacity:0},100);aboutHeader.load(portrait)}else{portrait.stop().animate({opacity:1},200);rand==2&&$(this).scrollTop()<=10&&setTimeout(function(){rand=1;portrait.attr("src","images/portrait"+rand+".jpg");aboutHeader.load(portrait)},500)}})})();(function(){revealer.click(function(e){e.preventDefault();$("html,body").animate({scrollTop:viewportHeight},1400,"easeInOutQuart")})})();(function(){var e=new Date,t=e.getFullYear();copyrightDate.html(t)})();(function(){$.ajax({type:"GET",cache:!0,url:"data/skills.json",dataType:"json",beforeSend:function(){$("#update_skills").empty().append('<img src="images/loading.svg" />')},success:function(e){$("#update_skills").empty();var t='<ul class="small-block-grid-1 medium-block-grid-2 large-block-grid-3">';$.each(e,function(e,n){t+='<li class="panel">';t+='<img src="'+n.icon_url+'"/>';t+="<h3>"+n.skill_name+"</h3>";t+='<div class="description_container">';t+="<p>"+n.description+"</p>";t+="</div>";t+="</li>"});t+="</ul>";$("#update_skills").html(t)},error:function(e){console.log("error finding portfolio"+e)}})})();(function(){$.ajax({type:"GET",cache:!0,url:"data/portfolio.json",dataType:"json",success:function(e){$("#update_portfolio").empty();var t='<ul class="small-block-grid-2 medium-block-grid-3 large-block-grid-3">';$.each(e,function(e,n){t+='<li class="portfolio_item">';t+='<a href="'+n.project_url+'" target="_blank"><img src="'+n.image_url+'"/>';t+='<div class="portfolio_caption">';t+="<h3>"+n.name+"</h3>";t+='<p class="hide-for-small-only">'+n.description+"</p>";t+="</div>";t+="</a></li>"});t+="</ul>";$("#update_portfolio").html(t)},error:function(e){console.log("error finding portfolio"+e)}})})();(function(){Modernizr.svg||$('img[src$=".svg"]').each(function(){$(this).attr("src",$(this).attr("src").replace(".svg",".png"))})})();(function(){$(window).bind("load",function(){setTimeout(function(){var e=$(".portfolio_item"),t=e.find("img"),n=t.height(),r=t.width(),i=$(".portfolio_caption");n=t.height(),r=t.width();$(window).resize(function(){n=t.height(),r=t.width()});if(!Modernizr.touch){$(document).on("mouseover",".portfolio_item",function(e){var t=$(this);t.find(i).css({opacity:1,width:r,height:n});e.preventDefault()});$(document).on("mouseout",".portfolio_item",function(e){var t=$(this);t.find(i).css("opacity",0)})}else i.remove()},500)})})();