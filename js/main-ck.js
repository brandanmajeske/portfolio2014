var viewportHeight=$(window).height(),mobileNav=$(".mobile-nav-links"),mobileNavToggle=$("#mobile-nav-toggle"),mainContent=$(".main-content"),hero=$(".hero"),heroHeight=hero.height(),navMenu=$(".navigation"),revealer=$("#revealer"),logo=$(".logo"),footer=$("footer"),overlay=$(".overlay"),loadingImg=overlay.find("img"),copyrightDate=$("#date"),socialMedia={facebook:"http://facebook.com/brandanmajeske",twitter:"http://twitter.com/brandanmajeske",googleplus:"https://plus.google.com/104486624241215576395/posts"},social=function(){var e="<ul>",t=document.querySelectorAll(".socialmediaicons");for(var n in arguments[0])e+='<li><a href="'+socialMedia[n]+' "target="_blank">'+'<img src="images/social/'+n+'.png" alt="icon for '+n+'">'+"</a></li>";e+="</ul>";for(var r=t.length-1;r>=0;r--)t[r].innerHTML=e}(socialMedia);(function(){overlay.css({height:viewportHeight});loadingImg.css({top:viewportHeight/2-loadingImg.height()/2,left:$(window).width()/2-loadingImg.width()/2});$(window).bind("load",function(){setTimeout(function(){overlay.fadeOut("slow")},100)})})();(function(){hero.css({height:viewportHeight});mainContent.height()<viewportHeight?mainContent.css({height:viewportHeight+navMenu.height(),top:viewportHeight-footer.height()}):mainContent.css({height:"inherit",top:viewportHeight-footer.height()});logo.css({height:viewportHeight/1.5,top:viewportHeight/8});$(window).resize(function(){viewportHeight=$(window).height();hero.css({height:viewportHeight});logo.css({height:viewportHeight/1.5,top:viewportHeight/8});if(mainContent.height()<viewportHeight){console.log("main content is less");mainContent.css({height:viewportHeight+50,top:viewportHeight-footer.height()})}else{console.log("main content is enough");mainContent.css({height:"inherit",top:viewportHeight-footer.height()})}})})();(function(){mobileNavToggle.click(function(e){e.preventDefault();if(mobileNavToggle.hasClass("mobile-active")){mobileNavToggle.removeClass("mobile-active");mobileNav.slideUp("easeInOutQuart")}else{mobileNavToggle.addClass("mobile-active");mobileNav.slideDown("easeInOutQuart")}})})();(function(){$(window).scroll(function(){$(this).scrollTop()>viewportHeight/5?logo.fadeOut(300):logo.fadeIn(300)})})();(function(){revealer.click(function(e){e.preventDefault();$("html,body").animate({scrollTop:viewportHeight-(navMenu.height()+25)},1400,"easeInOutQuart")})})();(function(){var e=new Date,t=e.getFullYear();copyrightDate.html(t)})();(function(){$.ajax({type:"GET",cache:!0,url:"data/skills.json",dataType:"json",beforeSend:function(){$("#update_skills").empty().append('<img src="images/loading.svg" />')},success:function(e){$("#update_skills").empty();var t='<ul class="small-block-grid-1 medium-block-grid-2 large-block-grid-3">';$.each(e,function(e,n){t+='<li class="panel">';t+='<img src="'+n.icon_url+'"/>';t+="<h3>"+n.skill_name+"</h3>";t+='<div class="description_container">';t+="<p>"+n.description+"</p>";t+="</div>";t+="</li>"});t+="</ul>";$("#update_skills").html(t)},error:function(e){console.log("error finding portfolio"+e)}})})();(function(){$.ajax({type:"GET",cache:!0,url:"data/portfolio.json",dataType:"json",success:function(e){$("#update_portfolio").empty();var t='<ul class="small-block-grid-2 medium-block-grid-3 large-block-grid-3">';$.each(e,function(e,n){t+='<li class="portfolio_item">';t+='<a href="'+n.project_url+'" target="_blank"><img src="'+n.image_url+'"/>';t+='<div class="portfolio_caption">';t+="<h3>"+n.name+"</h3>";t+="<p>"+n.description+"</p>";t+="</div>";t+="</a></li>"});t+="</ul>";$("#update_portfolio").html(t)},error:function(e){console.log("error finding portfolio"+e)}})})();(function(){$(window).bind("load",function(){setTimeout(function(){var e=$(".portfolio_item"),t=e.find("img"),n=t.height(),r=t.width();console.log(t);console.log(r,n);n=t.height(),r=t.width();$(window).resize(function(){n=t.height(),r=t.width()});$(document).on("mouseover",".portfolio_item",function(e){var t=$(this);t.find(".portfolio_caption").css({opacity:1,width:r,height:n});e.preventDefault()});$(document).on("mouseout",".portfolio_item",function(e){var t=$(this);t.find(".portfolio_caption").css("opacity",0)})},500);Modernizr.touch&&setTimeout(function(){$(".portfolio_caption").css("opacity",.7)},1e3)})})();